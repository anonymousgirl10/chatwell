{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import PropTypes from'prop-types';import React,{useRef}from'react';import Platform from\"react-native-web/dist/exports/Platform\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import{MIN_COMPOSER_HEIGHT,DEFAULT_PLACEHOLDER}from\"./Constant\";import Color from\"./Color\";import{StylePropType}from\"./utils\";import{useCallbackOne}from'use-memo-one';import{jsx as _jsx}from\"react/jsx-runtime\";var styles=StyleSheet.create({textInput:_objectSpread(_objectSpread({flex:1,marginLeft:10,fontSize:16,lineHeight:16},Platform.select({web:{paddingTop:6,paddingLeft:4}})),{},{marginTop:Platform.select({ios:6,android:0,web:6}),marginBottom:Platform.select({ios:5,android:3,web:4})})});export function Composer(_ref){var _ref$composerHeight=_ref.composerHeight,composerHeight=_ref$composerHeight===void 0?MIN_COMPOSER_HEIGHT:_ref$composerHeight,_ref$disableComposer=_ref.disableComposer,disableComposer=_ref$disableComposer===void 0?false:_ref$disableComposer,_ref$keyboardAppearan=_ref.keyboardAppearance,keyboardAppearance=_ref$keyboardAppearan===void 0?'default':_ref$keyboardAppearan,_ref$multiline=_ref.multiline,multiline=_ref$multiline===void 0?true:_ref$multiline,_ref$onInputSizeChang=_ref.onInputSizeChanged,onInputSizeChanged=_ref$onInputSizeChang===void 0?function(){}:_ref$onInputSizeChang,_ref$onTextChanged=_ref.onTextChanged,onTextChanged=_ref$onTextChanged===void 0?function(){}:_ref$onTextChanged,_ref$placeholder=_ref.placeholder,placeholder=_ref$placeholder===void 0?DEFAULT_PLACEHOLDER:_ref$placeholder,_ref$placeholderTextC=_ref.placeholderTextColor,placeholderTextColor=_ref$placeholderTextC===void 0?Color.defaultColor:_ref$placeholderTextC,_ref$text=_ref.text,text=_ref$text===void 0?'':_ref$text,_ref$textInputAutoFoc=_ref.textInputAutoFocus,textInputAutoFocus=_ref$textInputAutoFoc===void 0?false:_ref$textInputAutoFoc,_ref$textInputProps=_ref.textInputProps,textInputProps=_ref$textInputProps===void 0?{}:_ref$textInputProps,textInputStyle=_ref.textInputStyle;var dimensionsRef=useRef();var determineInputSizeChange=useCallbackOne(function(dimensions){if(!dimensions){return;}if(!dimensionsRef||!dimensionsRef.current||dimensionsRef.current&&(dimensionsRef.current.width!==dimensions.width||dimensionsRef.current.height!==dimensions.height)){dimensionsRef.current=dimensions;onInputSizeChanged(dimensions);}},[onInputSizeChanged]);var handleContentSizeChange=function handleContentSizeChange(_ref2){var contentSize=_ref2.nativeEvent.contentSize;return determineInputSizeChange(contentSize);};return _jsx(TextInput,_objectSpread({testID:placeholder,accessible:true,accessibilityLabel:placeholder,placeholder:placeholder,placeholderTextColor:placeholderTextColor,multiline:multiline,editable:!disableComposer,onContentSizeChange:handleContentSizeChange,onChangeText:onTextChanged,style:[styles.textInput,textInputStyle,_objectSpread({height:composerHeight},Platform.select({web:{outlineWidth:0,outlineColor:'transparent',outlineOffset:0}}))],autoFocus:textInputAutoFocus,value:text,enablesReturnKeyAutomatically:true,underlineColorAndroid:\"transparent\",keyboardAppearance:keyboardAppearance},textInputProps));}Composer.propTypes={composerHeight:PropTypes.number,text:PropTypes.string,placeholder:PropTypes.string,placeholderTextColor:PropTypes.string,textInputProps:PropTypes.object,onTextChanged:PropTypes.func,onInputSizeChanged:PropTypes.func,multiline:PropTypes.bool,disableComposer:PropTypes.bool,textInputStyle:StylePropType,textInputAutoFocus:PropTypes.bool,keyboardAppearance:PropTypes.string};","map":{"version":3,"names":["PropTypes","React","useRef","Platform","StyleSheet","TextInput","MIN_COMPOSER_HEIGHT","DEFAULT_PLACEHOLDER","Color","StylePropType","useCallbackOne","jsx","_jsx","styles","create","textInput","_objectSpread","flex","marginLeft","fontSize","lineHeight","select","web","paddingTop","paddingLeft","marginTop","ios","android","marginBottom","Composer","_ref","_ref$composerHeight","composerHeight","_ref$disableComposer","disableComposer","_ref$keyboardAppearan","keyboardAppearance","_ref$multiline","multiline","_ref$onInputSizeChang","onInputSizeChanged","_ref$onTextChanged","onTextChanged","_ref$placeholder","placeholder","_ref$placeholderTextC","placeholderTextColor","defaultColor","_ref$text","text","_ref$textInputAutoFoc","textInputAutoFocus","_ref$textInputProps","textInputProps","textInputStyle","dimensionsRef","determineInputSizeChange","dimensions","current","width","height","handleContentSizeChange","_ref2","contentSize","nativeEvent","testID","accessible","accessibilityLabel","editable","onContentSizeChange","onChangeText","style","outlineWidth","outlineColor","outlineOffset","autoFocus","value","enablesReturnKeyAutomatically","underlineColorAndroid","propTypes","number","string","object","func","bool"],"sources":["../src/Composer.tsx"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}